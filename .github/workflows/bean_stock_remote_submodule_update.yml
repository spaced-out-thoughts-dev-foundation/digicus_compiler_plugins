# .github/workflows/make.yml

name: Bean Stock Remote Submodule Update

on:
  push:
    branches:
      - main

jobs:
  trigger-remote-workflow:
    runs-on: ubuntu-latest
    steps:
      - name: Repository Dispatch
        uses: peter-evans/repository-dispatch@v3
        with:
          token: ${{ secrets.PAT }}
          repository: spaced-out-thoughts-dev-foundation/bean-stock
          event-type: trigger-workflow
  return-bean-pod-version:
    runs-on: ubuntu-latest
    outputs:
      output1: ${{ steps.step1.outputs.test }}
    steps:
      - id: step1
        run: Make version >> "$GITHUB_OUTPUT"

  output-return-bean-pod-version:
    runs-on: ubuntu-latest
    needs: return-bean-pod-version
    steps:
      - env:
          OUTPUT1: ${{needs.return-bean-pod-version.outputs.output1}}
        run: echo "$OUTPUT1"